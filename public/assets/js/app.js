"use strict";$(document).ready(function(){$(window).resize(function(){$("main").css({"margin-top":$("header").height(),"margin-bottom":$("footer").height()})}).resize();var s=new Player("#song","#player");$(document).on("click",".play-song",function(){t($(this))});var t=function t(a){var e=a.find("i");if(s.pause(),e.hasClass("fa-play-circle")){$(".play-song").find("i").each(function(){$(this)!==a&&$(this).removeClass("fa-pause-circle").addClass("fa-play-circle")}),s.setType(a.data("type")).setSrc(a.data("src")),s.title(a.data("title")),s.artist(a.data("artist")),s.album(a.data("album")),s.play(!0);var i=parseInt(a.attr("rel"))+1;s.setNextHandler(function(){t($("#play-song-"+i))})}e.toggleClass("fa-play-circle").toggleClass("fa-pause-circle")}}),Number.prototype.timeFormat=function(){var t=Math.ceil(this.valueOf()),a=t%60;return Math.floor(t/60)+":"+(a<10?"0"+a:a)};var _createClass=function(){function i(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,a,e){return a&&i(t.prototype,a),e&&i(t,e),t}}();function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var Player=function(){function i(t,a){_classCallCheck(this,i),this.audio=$(t),this.player=$(a),this.status="stopped",this.data={};var e=this;this.audio.on("timeupdate",function(){var t=e.audio[0].currentTime,a=e.audio[0].duration;t&&a&&(t<a?(e.player.find(".progress-bar").css("width",t/a*100+"%"),e.player.find(".progress-time").html("<i>"+t.timeFormat()+"</i>/"+a.timeFormat())):e.next())}),this.player.find(".toggle-play").click(function(){"playing"!==e.status?e.play():e.pause()}),this.player.find(".play-prev").click(function(){e.restart()}),this.player.find(".play-next").click(function(){e.next()})}return _createClass(i,[{key:"play",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.audio.trigger("play"),t&&(this.player.find(".title").html(this.data.title),this.player.find(".artist").html(this.data.artist),this.player.find(".album").html(this.data.album),this.originalTitle=document.title,document.title="â–¶ "+this.data.title+" - "+this.data.artist+" | chilii Music Player"),this.player.find(".fa-play").removeClass("fa-play").addClass("fa-pause"),this.status="playing",this}},{key:"pause",value:function(){return this.audio.trigger("pause"),this.player.find(".fa-pause").removeClass("fa-pause").addClass("fa-play"),this.status="paused",this}},{key:"restart",value:function(){return this.audio[0].currentTime=0,this}},{key:"stop",value:function(){return this.pause().restart(),document.title=this.originalTitle,this}},{key:"next",value:function(){this.nextHandler&&this.nextHandler()}},{key:"title",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return t&&(this.data.title=t),this.data.title}},{key:"artist",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return t&&(this.data.artist=t),this.data.artist}},{key:"album",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return t&&(this.data.album=t),this.data.album}},{key:"setType",value:function(t){return this.type=t,this.audio.attr("type",this.type),this}},{key:"setSrc",value:function(t){return this.src=t,this.audio.attr("src",t),this}},{key:"setNextHandler",value:function(t){return this.nextHandler=t,this}}]),i}();